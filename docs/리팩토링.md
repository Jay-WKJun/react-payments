# After 리팩토링

> 주석이 없어도 한 번에 이해할 수 있는 코드가 진짜 좋은 코드다.

STEP3 merge 후에 클린코드를 위한 리팩토링을 진행합니다.

- 이해하기 쉬운 변수명
  - 용어들이 명확한 의미로 구분 가능하다.
  - 한 눈에 봐도 어떤 것인지 알 수 있다.
- 이해하기 쉬운 코드 흐름과 구조
  - 단순한 코드 구조
- 불필요한 의존성 제거
  - 순수 model에서 ref 제거

## 각 card 정보들을 객체로 받았을 때의 문제점

이 페이먼츠의 사용자도 기존의 카드 정보들을 객체로 주입을 해주어야한다.

그렇기에 굉장히 불편할 수 밖에없다.

따라서, 도메인 모델들은 최대한 단순하게 하는 것이 좋다고 생각한다.

= 도메인 모델의 객체들을 풀고 컴포넌트 안에서 validation 체크와 error 체크 해야함.
= focus 기능 또한, ref forwarding으로 서로 통신해서 해결할 수 있다.

## 모든 state확인하기

Mount시에 한번, submit때 한번 활용할 수 있다.

type에 맞는 validator를 매칭하기 위해선 switch문이 불가피하다. -> factory pattern으로 대응하기.
